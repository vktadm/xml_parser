# Тестовое задание - xml-парсер

## Технологии и инструменты
- Flask
- SQLite
- xml.sax

**Дополнительные инструменты:**

- poetry
- pydantic
- flask-restful
- sqlalchemy
- alembic

## Структура проекта
```
xml-parser/
| - main.py - точка входа
| - app/
   | - __init__.py - инициализация приложения и api, подключение endpoints
   | - config.py - конфигурация приложения
   | - db_helper.py - создание синхронной сессии для доступа к БД
   | - models.py - модели sqlalchemy
   | - api/
      | - resurces.py - представления (views)
      | - schemas.py - модели pydantic
      | - services.py - CRUD функции
      | - xml_parser.py - xml.sax парсер
      
```
## Функционал

- [x] **/api/file/read** -> метод чтения XML файлов:
	- [x] Добавить валидацию
	- [x] Cохранять имя файла в таблице, а также сохранять содержимое файла в базу данных по схеме
	- [x] Метод должен возвращать True или False в зависимости от результата выполнения. 
	- [x] Порядок записи тегов не имеет значения, важно, чтобы были выстроены корректные связи между файлами, их тегами и их атрибутами.   
- [x] **/api/tags/get-count** -> функция, принимающая в себя путь до файла и название тега:
	- [x] Данная функция должна возвращать количество данных тегов в файле. 
	- [x] Если тегов нет, необходимо вернуть ошибку с текстом “В файле отсутствует тег с данным названием”.  
- [x] **/api/tags/attributes/get** -> функция, принимающая в себя имя файла и название тега.:
	- [x] Данная функция должна возвращать список из всех возможных атрибутов, которые присутствуют в заданном теге. 
	- [x] Важно, если у нескольких тегов есть данный атрибут, его не нужно добавлять в список повторно. Значения атрибутов возвращать не нужно.

## Схема БД

[Модель SqlAlchemy](app/models.py)

**Files** (
- id INTEGER PRIMARY KEY,
- name TEXT ); 

**Tags** (
- id INTEGER PRIMARY KEY,
- name TEXT,
- file_id INTEGER, 
- FOREIGN KEY (file_id) REFERENCES Files(id)); 

**Attributes** ( 
- id INTEGER PRIMARY KEY, 
- name TEXT,  
- value TEXT,  
- tag_id INTEGER, 
- FOREIGN KEY (tag_id) REFERENCES Tags(id));